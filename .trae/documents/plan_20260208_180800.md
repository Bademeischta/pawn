# Implementierung der DistillZero Data Factory

Ich werde das monolithische Skript `distillzero_factory.py` gemäß den spezifizierten Anforderungen implementieren.

## Modul-Struktur

### 1. DependencyManager
- Implementierung der `check_and_install` Methode.
- Überprüfung der Pakete: `python-chess`, `h5py`, `numpy`, `tqdm`, `requests`, `zstandard`.
- Automatische Installation via `pip` bei Fehlen.

### 2. AssetAcquisition
- Implementierung der OS- und Architektur-Erkennung.
- Mapping der Stockfish 16.1 Download-URLs.
- Logik für Download, Entpacken und Rechtemanagement (`chmod +x`).
- Setup des Lichess PGN-Streams mit `zstandard` Dekompression.

### 3. DataProcessor
- Erstellung der `PositionEvaluator` Klasse.
- Konfiguration der Stockfish-Engine (`Hash=16`, `Threads=1`, `Depth=10`).
- Implementierung der Normalisierungsformel: `tanh(cp / 400.0)`.
- Korrekte Behandlung von Matt-Scores (+/- 1.0).

### 4. ParallelMiner
- Setup des `multiprocessing.Pool` mit `cpu_count() - 2` Workern.
- Implementierung des Producer-Consumer Patterns für PGN-Verarbeitung.
- Robuste Fehlerbehandlung (`EngineTerminatedError`) und Worker-Neustart.

### 5. StorageBackend
- Einrichtung der HDF5-Datei `distillzero_dataset.h5`.
- Definition der Datasets `/fens`, `/scores`, `/moves`.
- Implementierung des 10k In-Memory Buffers und Chunking.

## Ausführung
- Zusammenfügen aller Klassen in die `distillzero_factory.py`.
- Einfügen des `if __name__ == "__main__":` Blocks für den One-Click-Start.
- Bereitstellung des Codes als finales Artefakt.
